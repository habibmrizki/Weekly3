<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <link rel="preconnect" href="https://fonts.googleapis.com" />
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
    <link
      href="https://fonts.googleapis.com/css2?family=Montserrat:ital,wght@0,100..900;1,100..900&family=Mulish:ital,wght@0,200..1000;1,200..1000&family=Nunito+Sans:ital,opsz,wdth,wght,YTLC@0,6..12,75..125,200..1000,440..540;1,6..12,75..125,200..1000,440..540&family=Rancho&display=swap"
      rel="stylesheet"
    />
    <link rel="stylesheet" href="assets/css/ticket-result.css" />
    <title>Document</title>
  </head>
  <body>
    <header>
      <nav class="navbar">
        <div class="navbar-logo">
          <div>
            <img src="assets/img/Tickitz-navbar.svg" alt="" />
          </div>
          <a href="#" id="hamburger-menu">
            <img src="assets/img/hamburger-menu.svg" alt="" />
          </a>
        </div>
        <div class="navbar-nav" id="navbarNav">
          <a href="index.html">Home</a>
          <a href="home2.html">Movie</a>
          <a href="details.html">Buy Ticket</a>
        </div>
        <div id="navbar-button">
          <a href="sign-in.html" type="button">SignIn</a>
          <a href="sign-up.html" type="button">Sign Up</a>
        </div>
      </nav>
    </header>
    <main>
      <section class="content">
        <div class="left-auth-container">
          <div class="text-container">
            <div class="title-container">
              <img src="/assets/img/tickitz 1.png" alt="" />
            </div>
            <div>Thankyou For Purchasing</div>
            <div>
              Lorem ipsum dolor sit amet consectetur. Quam pretium pretium
              tempor integer sed magna et.
            </div>
            <div>
              <div>Please Download Your Ticket</div>
              <div>⮕</div>
              <div>⬇</div>
            </div>
          </div>
        </div>
        <div class="right-auth-container" id="ticket-content">
          <div class="bg-right-auth-container">
            <div class="qris">
              <img src="assets/img/QR Code 2.svg" alt="QR Code" />
            </div>
            <div class="decorative-lines">
              <div>
                <div class="line-group">
                  <div class="text">
                    <div class="text-first">Movie</div>
                    <div class="text-second">Spider-Man: ..</div>
                  </div>
                  <div class="text">
                    <div class="text-first">Date</div>
                    <div class="text-second">07 Jul</div>
                  </div>
                  <div class="text">
                    <div class="text-first">Count</div>
                    <div class="text-second">3 pcs</div>
                  </div>
                </div>
                <div class="line-group">
                  <div class="text">
                    <div class="text-first">Category</div>
                    <div class="text-second">PG-13</div>
                  </div>
                  <div class="text">
                    <div class="text-first">Time</div>
                    <div class="text-second">2:00pm</div>
                  </div>
                  <div class="text">
                    <div class="text-first">Seats</div>
                    <div class="text-second">C4, C5, C6</div>
                  </div>
                </div>
              </div>
              <div>
                <div class="total">
                  <div>
                    <div>Total</div>
                    <div>$30.00</div>
                  </div>
                </div>
              </div>
            </div>
          </div>
          <div class="btn" id="btn">
            <button type="button" id="donwload_btn">
              <img src="assets/img/donwload.svg" alt="" />
              <div>Download</div>
            </button>
            <a href="profile-page.html" style="width: 100%">
              <button type="button">
                <div>Done</div>
              </button>
            </a>
          </div>
        </div>
      </section>
    </main>
    <footer>
      <div class="footer">
        <div class="content-footer">
          <div class="footer-part">
            <div><img src="assets/img/Tickitz-footer.svg" alt="" /></div>
            <div class="text-footer">
              <div>Stop waiting in line. Buy tickets</div>
              <div>conveniently, watch movies quietly.</div>
            </div>
          </div>
          <div class="footer-part">
            <div>Explore</div>
            <div class="text-footer">
              <div>Cinemas</div>
              <div>Movies List</div>
              <div>My Ticket</div>
              <div>Notification</div>
            </div>
          </div>
          <div class="footer-img">
            <div>Our Sponsor</div>
            <div class="img-footer">
              <div><img src="assets/img/Ebu.id.svg" alt="" /></div>
              <div><img src="assets/img/CineOne212.svg" alt="" /></div>
              <div><img src="assets/img/Hiflix2.svg" alt="" /></div>
            </div>
          </div>
          <div class="footer-part">
            <div>Follow us</div>
            <div class="social-footer">
              <div class="content-social-footer">
                <div class="logo-facebook">
                  <img src="assets/img/Logo-Facebook.svg" alt="" />
                </div>
                <div>Tickitz Cinema id</div>
              </div>
              <div class="content-social-footer">
                <div>
                  <img src="assets/img/Logo-Instagram.svg" alt="" />
                </div>
                <div>tickitz.id</div>
              </div>
              <div class="content-social-footer">
                <div>
                  <img src="assets/img/Logo-Twitter.svg" alt="" />
                </div>
                <div>tickitz.id</div>
              </div>
              <div class="content-social-footer">
                <div>
                  <img src="assets/img/Logo-Youtube.svg" alt="" />
                </div>
                <div>Tickitz Cinema id</div>
              </div>
            </div>
          </div>
        </div>
      </div>
    </footer>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/html2pdf.js/0.9.2/html2pdf.bundle.min.js"></script>
    <script>
      const download_button = document.getElementById("donwload_btn"); // Corrected ID
      const contentToPrint = document.getElementById("ticket-content"); // New variable for the element to print

      download_button.addEventListener("click", async function () {
        const filename = "ticket.pdf";

        try {
          const opt = {
            margin: 1,
            filename: filename,
            image: { type: "jpeg", quality: 0.98 },
            html2canvas: { scale: 2 },
            jsPDF: {
              unit: "in",
              format: "letter",
              orientation: "portrait",
            },
          };
          await html2pdf().set(opt).from(contentToPrint).save(); // Use the correct variable
        } catch (error) {
          console.error("Error:", error.message);
        }
      });
    </script>
  </body>
</html>
